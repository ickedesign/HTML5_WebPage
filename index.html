<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, minimum-scale=1, maximum-scale=1">

  <title>H5页面开发</title>
  
  <!--载入所有的组件资源-->
  <script type="text/javascript" src="./node_modules/jquery/dist/jquery.js"></script>
  <script type="text/javascript" src="./node_modules/fullpage.js/dist/jquery.fullPage.js"></script>

  <!-- H5对象：进行内容管理 -->
  <script src="./test/js/H5.js"></script>
  <link rel="stylesheet" href="./test/css/H5.css">
  
  <script src="js/H5_loading.js"></script>
  <link rel="stylesheet" href="css/H5_loading.css">
  <!--页面逻辑的样式-->
  <style type="text/css">
    body {
      margin: 0;
      padding: 0;
    }

    .h5_page_face {
      background-color: #fae2c4;
      background-image: url(img/face_bg.png);
    }
    .h5_page_second {
      background-color: #b3dfde;
    }  
    .h5_page_third {
      background-color: #c8e8e7;
      background-image: url(img/third_bg.png);
      background-size: 100% 100%;
    }  
    .h5_page_fourth {
      background-color: #fff;
    }   
    .h5_page_tail {
      background-color: #b3dfde;
    }  
    .h5_component_name_slogan {
      /*振动 执行时间 无限循环 延迟*/
      -webkit-animation: rock 2s infinite 1.6s;
    }
    @-webkit-keyframes rock {
      0% {transform: rotate(0deg)}
      5% {transform: rotate(6deg)}
      10% {transform: rotate(-7deg)}
      15% {transform: rotate(3deg)}
      20% {transform: rotate(-4deg)}
      25% {transform: rotate(1deg)}
      30% {transform: rotate(-1deg)}
      70% {transform: rotate(0deg)}
      100% {transform: rotate(0deg)}
    }

    .h5_component_name_caption{
      background-image: url(img/page_caption_bg.png);
      width: 283px;
      height: 160px;
      text-align: center;
      line-height: 140px;
      font-size: 20px;
      color: #87422d;
    }
    .h5_component_name_back {
      top: 30px;
      -webkit-animation: back 2s infinite 2s;
    }  
    @-webkit-keyframes back {
      50% {top: 20px}
    }  
    
  </style>

  
</head>

<body>
  <div class="loading">
    <div class="double-bounce1"></div>
    <div class="double-bounce2"></div>
    <div id="rate">0%</div>
  </div>
  <!--加载H5相关资源-->
  <script>
    var res = ['Base', 'Bar', 'Point', 'Polyline', 'Radar', 'Pie'];
    var html = [];
    for(s in res) {
      html.push('<script src="./test/js/H5Component' + res[s] +'.js"><\/script>');
      html.push('<link rel="stylesheet" type="text/css" href="test/css/H5Component' + res[s] +'.css">');
    }
    document.write(html.join(' '));
  </script>
  <!--主要逻辑-->
  <script>
    $(function () {
      var h5 = new H5();

      h5.whenAddPage = function() {
        this.addComponent('slide_up', {
          bg: 'img/footer.png',
          css: {
            opacity: 0,
            left: 0,
            bottom: -20,
            width: '100%',
            height: '20px',
            zIndex: 999
          },
          animateIn: {
            opacity: 1,
            bottom: '0px'
          },
          animateOut: {
            opacity: 0,
            bottom: '-20px'
          },
          delay: 500
        });
      }
      // 页添加组件，链式调用的操作
      h5
      .addPage('face')
        .addComponent('logo', {
          center: true,
          width: 520,
          height: 207,
          bg: 'img/face_title.png',
          css: {
            opacity: 0
          },
          animateIn: {
            top: '25%',
            opacity: 1
          },
          animateOut: {
            top: 0,
            opacity: 0
          }
        })
        .addComponent('slogan', {
          center: true,
          width: 371,
          height: 78,
          bg: 'img/face_slogan.png',
          css: {
            opacity: 0,
            top: '45%'
          },
          animateIn: {
            left: '50%',
            opacity: 1
          },
          animateOut: {
            left: '0%',
            opacity: 0
          },
          delay: 500
        })
        .addComponent('face_left', {
          width: 308,
          height: 401,
          bg: 'img/face_left.png',
          css: {
            opacity: 0,
            left: -50,
            bottom: -50
          },
          animateIn: {
            opacity: 1,
            left: 0,
            bottom: 0
          },
          animateOut: {
            opacity: 0,
            left: -50,
            bottom: -50
          },
          delay: 1000
        })
        .addComponent('face_right', {
          width: 269,
          height: 401,
          bg: 'img/face_right.png',
          css: {
            opacity: 0,
            right: -50,
            bottom: -50
          },
          animateIn: {
            opacity: 1,
            right: 0,
            bottom: 1
          },
          animateOut: {
            opacity: 0,
            right: -50,
            bottom: -50
          },
          delay: 1000
        })
      .addPage('second')
        .addComponent('caption',{
          text: '冰淇淋',
          css: {
            color: '#396968'
          }
        })
        .addComponent('text',{
          width: 500,
          height: 30,
          center: true,
          text: '美味清爽，夏天必备',
          css: {
            opacity: 0,
            textAlign: 'center',
            color: '#8a432a',
            fontSize: '26px'
          },
          animateIn: {
            opacity: 1,
            top: '24%'
          },
          animateOut: {
            opacity: 0,
            top: 240
          }
        })
        .addComponent('description', {
          center: true,
          width: 481,
          height: 295,
          bg: 'img/description_bg.gif',
          css: {
            opacity: 0,
            padding: '15px 10px 10px 10px',
            color: '#fff',
            fontSize: '15px',
            lineHeight: '18px',
            textAlign: 'justify',
            top: 240
          },
          text: '冰淇淋是以饮用水、牛乳、奶粉、奶油（或植物油脂）、食糖等为主要原料，加入适量食品添加剂，经混合、灭菌、均质、老化、凝冻、硬化等工艺制成的体积膨胀的冷冻饮品。',
          animateIn: {
            opacity: 1,
            top: '30%'
          },
          animateOut: {
            opacity: 0,
            top: 240
          },
          delay: 1000
        })
        .addComponent('icecream', {
          center: true,
          width: 515,
          height: 305,
          bg: 'img/icecream-car.png',
          css: {
            opacity: 0,
            bottom: 0
          },
          animateIn: {
            opacity: 1,
            bottom: 40
          },
          animateOut: {
            opacity: 0,
            bottom: 0
          },
          delay: 500
        })  
      // polyline
      .addPage('third')
        .addComponent('caption', {
          text: '冰淇淋配方',
          css: {
            color: '#86422c'
          }
        })
        .addComponent('polyline', {
          type: 'polyline',
          width: 530,
          height: 600,
          data: [
            ['牛奶', .4, '#ff7676'],
            ['鸡蛋', .1, '#86422c'],
            ['砂糖', .2, '#86422c'],
            ['稳定剂', .05, '#86422c'],
            ['可可油', .35, '#86422c']
          ],
          css: {
            top: 100,
            opacity: 0,
            color: '#86422c'
          },
          animateIn: {
            opacity: 1,
            top: '30%'
          },
          animateOut: {
            opacity: 0,
            top: '20%'
          },
          center: true
        })
        .addComponent('msg', {
          text: '牛奶占总体配方的40%',
          css: {
            opacity: 0,
            top: '24%',
            textAlign: 'center',
            width: '100%',
            color: '#86422c',
            fontSize: '26px'
          },
          animateIn: {
            opacity: 1 
          },
          animateOut: {
            opacity: 0 
          }
        })
      // pie  
      .addPage('')
        .addComponent('caption', {
          text: '工业简介'
        })
        .addComponent('pie', {
          type: 'pie',
          width: 400,
          height: 400,
          data: [
            ['预热', .3, '#ff505a'],
            ['混合', .2, '#b0fbfe'],
            ['冷却', .15, '#fce688'],
            ['冷冻', .2, '#ff3847'],
            ['硬化', .15, '#fff9d7']
          ],
          css: {
            top: 200,
            opacity: 0
          },
          animateIn: {
            opacity: 1,
            top: '28%'
          },
          animateOut: {
            opacity: 0,
            top: 100
          },
          center: true
        })
        .addComponent('msg', {
          text: '制作冰淇淋，预热占到了30%',
          css: {
            opacity: 0,
            bottom: '25%',
            textAlign: 'center',
            width: '100%',
            color: '#ff7676'
          },
          animateIn: {
            opacity: 1 
          },
          animateOut: {
            opacity: 0 
          }
        })
      // bar  
      .addPage('fourth')
        .addComponent('caption', {
          text: '营养功效',
          css: {
            color: '#481b04'
          }
        })
        .addComponent('bar', {
          type: 'bar',
          width: 530,
          height: 600,
          data: [
            ['水', .4, '#ff7676'],
            ['钙', .2],
            ['铁', .1],
            ['氨基酸', .2],
            ['葡萄糖', .35],
            ['脂肪', .05],
            ['维生素A', .09]
          ],
          css: {
            top: 100,
            opacity: 0
          },
          animateIn: {
            opacity: 1,
            top: 200
          },
          animateOut: {
            opacity: 0,
            top: 100
          },
          center: true
        }) 
        .addComponent('msg', {
          text: '冰淇淋中的水占到40%',
          css: {
            opacity: 0,
            top: '25%',
            textAlign: 'center',
            width: '100%',
            color: '#481b04'
          },
          animateIn: {
            opacity: 1 
          },
          animateOut: {
            opacity: 0 
          }
        }) 
      // radar  
      .addPage()
        .addComponent('caption', {
          text: '选购建议'
        })
        .addComponent('radar', {
          type: 'radar',
          width: 400,
          height: 400,
          data: [
            ['有效期', .4, '#ff7676'],
            ['价格', .1],
            ['工艺', .2],
            ['包装', .05],
            ['原料', .35]
          ],
          css: {
            top: 100,
            //opacity: 0
          },
          animateIn: {
            opacity: 1,
            top: 200
          },
          animateOut: {
            opacity: 0,
            top: 100
          },
          center: true
        }) 
      // point  
      .addPage()
        .addComponent('caption', {
          text: '甜味分布'
        })
        .addComponent('ponit', {
          type: 'point',
          width: 300,
          height: 300,
          data: [
            ['中级', .4, '#ff7676'],
            ['初级', .2, '#ffa3a4', 0, '-60%'],
            ['高级', .3, '#99c1ff', '50%', '-120%']
          ],
          css: {
            bottom: 0,
            opacity: 0
          },
          animateIn: {
            bottom: '15%',
            opacity: 1
          },
          animateOut: {
            bottom: 0,
            opacity: 0
          },
          center: true
        })         
      .addPage('tail')
        .addComponent('logo', {
          center: true,
          width: 359,
          height: 129,
          bg: 'img/tail_logo.png',
          css: {
            top: 240,
            opacity: 0
          },
          animateIn: {
            opacity: 1,
            top: 210
          },
          animateOut: {
            opacity: 0,
            top: 240
          }
        })
        .addComponent('slogan', {
          center: true,
          width: 314,
          height: 46,
          bg: 'img/tail_slogan.png',
          css: {
            top: 280,
            opacity: 0
          },
          animateIn: {
            opacity: 1,
            left: '50%'
          },
          animateOut: {
            opacity: 0,
            left: '0%'
          },
          delay: 500
        })
        .addComponent('share', {
          width: 128,
          height: 120,
          bg: 'img/tail_share.png',
          css: {
            top: 110,
            right: 110,
            opacity: 0
          },
          animateIn: {
            opacity: 1,
            top: 10,
            right: 10
          },
          animateOut: {
            opacity: 0,
            top: 110,
            right: 110
          },
          delay: 1000
        })
        .addComponent('back', {
          width: 52,
          height: 50,
          bg: 'img/tail_back.png',
          center: true,
          onclick: function() {
            $.fn.fullpage.moveTo(1);
          }
        })
      .loader(['img/tail_share.png','img/tail_slogan.png']);
    })
  </script>
</body>

</html>
